<div class="spinner-overlay" *ngIf="_show_spinner" >
    <div class="spinner-container">
      <mat-spinner></mat-spinner>
    </div>
</div>
<div class="module-workarea p-4 ">

    <div class="text-secondary d-flex align-item-center m-0 p-0">
        <mat-icon>{{modulo.icono}}</mat-icon><span class="fs-5" > 
           {{modulo.nombre}}
        </span>
    </div>
    <hr>
    <div class="form-section">
        <span class="fs-6" >  Técnicos registrados en la plataforma: </span>
        <div class=" d-flex justify-content-center" >
            <div class="table-responsive w-100">
                <section class="filtros  mb-2">
                    <!-- <input type="text" class="form-control" > -->
                    <small class="text-secondary">
                        Cantidad de técnicos agregados 
                        <strong class="text-primary">
                           ( {{lisTecnicos.length}} )
                        </strong>
                    </small>
                    <div class="mb-2 d-flex">
                      <input class=" w-100 form-control rounded-pill"
                             fxFlex="auto" type="text"
                             (keyup)="applyFilter($event)" 
                             #input placeholder="Búsqueda de usuarios registrados....">
                    </div>        
            
                </section>
                <table mat-table [dataSource]="dataSource" class="mtTable shadow" matSort class="w-100" >
            
                    <ng-container matColumnDef="nombre">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>
                            Nombres
                        </th>
                        <td mat-cell *matCellDef="let row">
                          {{row.nombre}} {{row.apellido}}
                        </td>
                    </ng-container>
            
                    <ng-container matColumnDef="nombreDepartamento">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>
                            Departamento
                        </th>
                        <td mat-cell *matCellDef="let row">
                          {{row.nombreDepartamento }}
                        </td>
                    </ng-container>   
            
                    <ng-container matColumnDef="nombreProvincia">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>
                            Lugar de residencia
                        </th>
                        <td mat-cell *matCellDef="let row">
                          {{row.nombreProvincia }} - ({{row.nombreCanton}})
                        </td>
                    </ng-container>   
            
                    <ng-container matColumnDef="nombreEstado">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>
                            Estado del trabajador
                        </th>
                        <td mat-cell *matCellDef="let row">
                          {{row.nombreEstado }}
                        </td>
                    </ng-container>   
            
                    <ng-container matColumnDef="nombreMovilidad">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>
                            Movilidad
                        </th>
                        <td mat-cell *matCellDef="let row">
                          {{row.nombreMovilidad }}
                        </td>
                    </ng-container>   
            
                    <ng-container matColumnDef="nombreLicencia">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>
                            Licencia
                        </th>
                        <td mat-cell *matCellDef="let row">
                          {{row.nombreLicencia }}
                        </td>
                    </ng-container>   
            
                    <ng-container matColumnDef="provincia" *ngIf="_create_show" >
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>
                            Asignación
                        </th>
                        <td mat-cell *matCellDef="let row"  >
                          <button class="btn btn-warning d-flex align-items-center " (click)="openDialog(row)" >
                            <mat-icon>share_location</mat-icon>
                            <span> Asignar Provincia </span>
                          </button>
                        </td>
                    </ng-container>   
            
                    <tr mat-header-row *matHeaderRowDef="columnHead"></tr>
                    <tr mat-row *matRowDef="let row; columns: columnHead;"></tr>
                
                    <!-- Row shown when there is no matching data. -->
                    <tr class="mat-row" *matNoDataRow>
                      <td class="mat-cell" colspan="4">
                        Datos no encontrados...
                      </td>
                    </tr>
                </table>
                <mat-paginator [length]="100"
                               [pageSize]="10"
                               [pageSizeOptions]="[5, 10, 25, 100]"
                               aria-label="Select page">
            </mat-paginator>    
            </div>


            <!-- <div class=" d-flex justify-content-stretch align-items-center animate__animated animate__fadeInLeft m-3 " *ngFor="let  tecnicos of lisTecnicos">

                <div class="usuario detalle d-flex flex-column ">
                    <div  class="w100 d-flex justify-content-center mb-2 ">
                        <div class="perfil"></div>
                    </div>
                    <span class="userspan" > <span class="text-secondary" > Nombre:       </span> 
                        <span> {{  tecnicos.nombre }} {{  tecnicos.apellido }} </span>
                    </span>
                    <span class="userspan" > <span class="text-secondary" > Cargo:        </span> 
                        <span> {{  tecnicos.nombreCargo }} </span>
                    </span>
                    <span class="userspan" > <span class="text-secondary" > Departamento: </span> 
                        <span> {{  tecnicos.nombreDepartamento }} </span>
                    </span>
                    <span class="userspan" > <span class="text-secondary" > Licencia:     </span> 
                        <span> {{  tecnicos.nombreLicencia }} </span>
                    </span>
                    <span class="userspan" > <span class="text-secondary" > Movilidad:    </span> 
                        <span> {{  tecnicos.nombreMovilidad }} </span>
                    </span>
                </div>
                <div class="provincias">
                    <span class="p-3 bg-warning text-black" >Provincias:</span>

                </div>
            </div> -->

        </div>
    </div>
</div>